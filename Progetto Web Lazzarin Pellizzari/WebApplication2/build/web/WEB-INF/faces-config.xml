<?xml version='1.0' encoding='UTF-8'?>

<!-- =========== FULL CONFIGURATION FILE ================================== -->

<faces-config version="1.2" 
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd">
    <navigation-rule>
        <from-view-id>/welcomeJSF.jsp</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/forum/main.jsp</to-view-id>
            <from-action>#{user.login}</from-action>
        </navigation-case>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/loginFailed.jsp</to-view-id>
            <from-action>#{user.login}</from-action>
        </navigation-case>
        <navigation-case>
            <from-outcome>register_user</from-outcome>
            <to-view-id>/register.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/register.jsp</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/welcomeJSF.jsp</to-view-id>
            <from-action>#{parseRegistration.validate}</from-action>
        </navigation-case>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/register.jsp</to-view-id>
            <from-action>#{parseRegistration.validate}</from-action>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/add_group.jsp</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/forum/main.jsp</to-view-id>
            <from-action>#{user.addGroup}</from-action>
        </navigation-case>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/forum/add_group.jsp</to-view-id>
            <from-action>#{user.addGroup}</from-action>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/main.jsp</from-view-id>
        <navigation-case>
            <from-outcome>add_group</from-outcome>
            <to-view-id>/forum/add_gruppo.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>delete_group</from-outcome>
            <to-view-id>/forum/delete_group.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>view_post</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/forum/main.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>reload</from-outcome>
            <to-view-id>/forum/main.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <managed-bean>
        <managed-bean-class>beans.User</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-bean-name>user</managed-bean-name>
    </managed-bean>
    <managed-bean>
        <managed-bean-class>beans.Group</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-bean-name>group</managed-bean-name>
    </managed-bean>
    <managed-bean>
        <managed-bean-class>beans.Posts</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-bean-name>posts</managed-bean-name>
    </managed-bean>
    <managed-bean>
        <managed-bean-class>beans.languages.BeanLinguaggio</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-bean-name>language</managed-bean-name>
    </managed-bean>
    <managed-bean>
        <managed-bean-class>beans.validator.RegisterValidation</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-bean-name>parseRegistration</managed-bean-name>
    </managed-bean>
    <managed-bean>
        <managed-bean-class>beans.upload.FileUpload</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-bean-name>file</managed-bean-name>
    </managed-bean>
    <application>
        <locale-config>
            <default-locale>it</default-locale>
            <supported-locale>it</supported-locale>
            <supported-locale>en</supported-locale>
        </locale-config>
        <resource-bundle>
            <base-name>beans.languages.messages</base-name>
            <var>msg</var>
        </resource-bundle>
    </application>
    <navigation-rule>
        <from-view-id>/delete_group.jsp</from-view-id>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/forum/delete_group.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/forum/main.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/add_gruppo.jsp</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/forum/main.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/show_posts.jsp</from-view-id>
        <navigation-case>
            <from-outcome>add_post</from-outcome>
            <to-view-id>/forum/add_post.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>add_file</from-outcome>
            <to-view-id>/forum/add_file.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>back_to_grp_list</from-outcome>
            <to-view-id>/forum/main.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>invite_user</from-outcome>
            <to-view-id>/forum/invite_user.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit_group</from-outcome>
            <to-view-id>/forum/edit_group.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>ok</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>promosso</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>nonpromosso</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/add_post.jsp</from-view-id>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/forum/add_post.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>post_added</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>backto_posts</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/add_file.jsp</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/forum/add_file.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>back_to_posts</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/invite_user.jsp</from-view-id>
        <navigation-case>
            <from-outcome>back_to_posts</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/forum/edit_group.jsp</from-view-id>
        <navigation-case>
            <from-outcome>backto_posts</from-outcome>
            <to-view-id>/forum/show_posts.jsp</to-view-id>
        </navigation-case>
    </navigation-rule>

</faces-config>